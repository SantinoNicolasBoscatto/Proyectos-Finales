<div style="overflow-x:auto;">
  <table mat-table [dataSource]="tablaLista" class="mat-elevation-z8">
    @for (col of displayedColumns; track $index) {
      @if(col === "position"){
        <ng-container matColumnDef="position">
          <th mat-header-cell *matHeaderCellDef> # </th>
          <td mat-cell *matCellDef="let element; let i = index"> {{i + 1}} </td>
        </ng-container>
      }
      @else if (col === "number") {
        <ng-container matColumnDef="number">
          <th mat-header-cell *matHeaderCellDef> NÂº </th>
          <td mat-cell *matCellDef="let element"> 
              <img src="/NumberFonts/{{element.piloto.numero}}.png" alt="" width="40px" height="40px"> 
          </td>
      </ng-container>
      }
      @else if (col === "driver") {
        <ng-container matColumnDef="driver">
          <th mat-header-cell *matHeaderCellDef> Piloto </th>
          <td mat-cell *matCellDef="let element" style="cursor: pointer;" routerLink="/pilotos/{{element.piloto.id}}"> 
              {{element.piloto.nombre}} 
          </td>
      </ng-container>
      }
      @else if (col === "manofactura") {
        <ng-container matColumnDef="manofactura">
          <th mat-header-cell *matHeaderCellDef> MFR </th>
          <td mat-cell *matCellDef="let element"> <img [src]="element.marca.foto" [alt]="element.marca.nombre" 
            width="50px" height="40px"></td>
        </ng-container>
      }
      @else if (col === "points") {
        <ng-container matColumnDef="points">
          <th mat-header-cell *matHeaderCellDef> Puntos </th>
          <td mat-cell *matCellDef="let element" > {{element.puntos}} </td>
        </ng-container>
      }
      @else if (col === "behindPlayoff") {
        <ng-container matColumnDef="behindPlayoff">
          <th mat-header-cell *matHeaderCellDef> Behind Playoff </th>
          <td mat-cell *matCellDef="let element"> {{verificarClasificado(element, calendario)}} </td>
      </ng-container>
      }
      @else {
        <ng-container [matColumnDef]="col">
          <th mat-header-cell *matHeaderCellDef> {{PrimeraLetraMayuscula(col)}} </th>
          <td mat-cell *matCellDef="let element"> {{element[col]}} </td>
        </ng-container>
      }
    }
    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
</table>

</div>